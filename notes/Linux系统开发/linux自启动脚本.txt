在 Ubuntu（或其他基于 systemd 的 Linux 发行版）中，设置开机自动执行脚本有多种方式。以下是几种常用且可靠的方法，你可以根据需求选择：

---

### 方法一：使用 **systemd 服务**（推荐，适用于系统级或用户级脚本）

#### 1. 创建脚本文件（例如 `/home/your_user/startup.sh`）

注意！第一行的#!/bin/bash必须要有

```bash
#!/bin/bash
# 你的命令写在这里
echo "Startup script executed at $(date)" >> /tmp/startup.log
```

赋予执行权限：
```bash
chmod +x /home/your_user/startup.sh
```

#### 2. 创建 systemd 服务文件（系统级）

新建服务文件（需要 root 权限）：
```bash
sudo nano /etc/systemd/system/mystartup.service
```

写入以下内容：
```ini
[Unit]
Description=My Startup Script
After=multi-user.target

[Service]
Type=oneshot
ExecStart=/home/your_user/startup.sh
User=your_user
WorkingDirectory=/home/your_user
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
```

> 注意：将 `your_user` 替换为你的实际用户名。

#### 3. 启用服务
```bash
sudo systemctl daemon-reexec
sudo systemctl enable mystartup.service
sudo systemctl start mystartup.service  # 立即测试
```

重启后脚本会自动运行。

---

### 方法二：使用 **crontab（@reboot）**（适合普通用户）

编辑当前用户的 crontab：
```bash
crontab -e
```

添加一行：
```cron
@reboot /home/your_user/startup.sh
```

保存退出。系统启动时 cron 会自动执行该脚本。

> 注意：此方法中脚本运行环境变量较少，建议在脚本开头显式设置 PATH 或使用绝对路径。

---

### 方法三：图形界面用户（桌面环境）用 **Startup Applications**

如果你使用的是 Ubuntu 桌面版（GNOME 等），并且希望脚本在**用户登录图形界面后**运行：

1. 打开 **Startup Applications**（启动应用程序）
2. 点击 “Add”
3. 填写：
   - Name: 自定义名称
   - Command: `/home/your_user/startup.sh`
   - Comment: 可选说明
4. 保存

> 注意：此方法只在用户登录桌面后触发，不是系统启动时立即执行。

---

### 小贴士

- 脚本中尽量使用**绝对路径**（如 `/usr/bin/python3` 而非 `python3`）。
- 如果脚本依赖网络或其它服务，可在 `[Unit]` 中添加 `After=network-online.target` 等。
- 调试：查看 systemd 日志 `journalctl -u mystartup.service`。

